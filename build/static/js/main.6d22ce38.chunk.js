(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{167:function(e,_,t){"use strict";t.d(_,"a",(function(){return l}));t(1);var r=t(21),o=t.n(r),s=(t(140),t(16)),a=t(2),d=0;function l(e,_,t){_>0&&(d=_);for(var r=[],o=0;o<d;o++)if("object"==typeof e[o]){for(var l=[{}],n=0;n<Object.keys(e[o]).length/2;n++)l[n]={x:e[o]["x"+(n+1)],y:e[o]["y"+(n+1)]};r[o]=[Object(a.jsx)(s.b,{color:t[o],className:"1-series",size:"3.5",data:l,style:{strokeLinejoin:"round",strokeWidth:2}})]}return Object(a.jsxs)(s.e,{width:700,height:200,display:"inline-block",children:[Object(a.jsx)(s.a,{style:{stroke:"#D1D0CE"}}),Object(a.jsx)(s.c,{style:{stroke:"#D1D0CE"}}),Object(a.jsx)(s.d,{title:"x",style:{line:{stroke:"#111111"},ticks:{stroke:"#6b6b76"},text:{stroke:"none",fill:"#6b6b76"}}}),Object(a.jsx)(s.f,{title:"\u041a\u043e\u044d\u0444\u0444. \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438",style:{line:{stroke:"#6b6b76"},ticks:{stroke:"#6b6b76"},text:{stroke:"none",fill:"#6b6b76"}}}),r]})}o.a.render(Object(a.jsx)(l,{}),document.querySelector("#root"))},169:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Table}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Table_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(338),_Table_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Table_css__WEBPACK_IMPORTED_MODULE_1__),_mock_data_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(339),_mock_data_json__WEBPACK_IMPORTED_MODULE_2___namespace=__webpack_require__.t(339,1),_components_ReadOnlyRow__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(170),_components_EditableRow__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(340),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21),react_dom__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__),fs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(341),fs__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_6__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);function Table(model,levelPravil,changeList,changeCoeff,selectedTM){var tempus=[[]],gettingLevelPravil=levelPravil,select=selectedTM;function cartesian2(e){var _=[],t=e;t.reduceRight((function(e,_,t){return function(r){for(var o=0,s=_.length;o<s;o++){var a=r.slice();a[t]=_[o],e(a)}}}),Array.prototype.push.bind(_))(new Array(t.length));return _}void 0==select&&(select=1),"string"!=typeof gettingLevelPravil&&(gettingLevelPravil=1);var my=model;void 0==my.TM&&(my={options:{name:"tm 1",urovneyObrabotki:3},TM:[{id:"1",name:"1212",termsCount:3,termsNames:{term1:"1212",term2:"1212",term3:"sd"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:1,y3:5},{x1:2,y1:0,x2:3,y2:1,x3:3,y3:5},{x1:4,y1:0,x2:5,y2:2,x3:6,y3:2,x4:7,y4:0}],plotsColors:["#000000","#000000","#FF00D0"]},{id:"2",name:"tm2",termsCount:3,termsNames:{term1:"dfdf",term2:"dfdf",term3:"\ufffddfdf"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]},{id:"3",name:"dfdf",termsCount:3,termsNames:{term1:"dfdf",term2:"dfdf",term3:"dfdf"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]}],pravila_end:{1:["1_1...1_1","1_2...2_0.8","1_3...1_0.9","2_1...2_0.7","2_2...1_0.9","2_3...2_1","3_1...1_0.9","3_2...1_0.8","3_3...2_0.9"]}});var shapka=[],termsInputArray2=[[]],tempArray=[],selectedArray=[],otarray=[{id:"1",name:"1212",termsCount:3,termsNames:{term1:"1212",term2:"1212",term3:"sd"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:1,y3:5},{x1:2,y1:0,x2:3,y2:1,x3:3,y3:5},{x1:4,y1:0,x2:5,y2:2,x3:6,y3:2,x4:7,y4:0}],plotsColors:["#000000","#000000","#FF00D0"]},{id:"2",name:"tm2",termsCount:3,termsNames:{term1:"dfdf",term2:"dfdf",term3:"\ufffddfdf"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]},{id:"3",name:"dfdf",termsCount:3,termsNames:{term1:"dfdf",term2:"dfdf",term3:"dfdf"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]}],doarray=[{id:"1",name:"1212",termsCount:3,termsNames:{term1:"1212",term2:"1212",term3:"sd"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:1,y3:5},{x1:2,y1:0,x2:3,y2:1,x3:3,y3:5},{x1:4,y1:0,x2:5,y2:2,x3:6,y3:2,x4:7,y4:0}],plotsColors:["#000000","#000000","#FF00D0"]},{id:"2",name:"tm2",termsCount:3,termsNames:{term1:"dfdf",term2:"dfdf",term3:"\ufffddfdf"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]},{id:"3",name:"dfdf",termsCount:3,termsNames:{term1:"dfdf",term2:"dfdf",term3:"dfdf"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]}];if(void 0!=model.TM){otarray=[],doarray=[];for(var toNode=selectedTM,massivFrom=[],i=0;i<my.graph.edges.length;i++)my.graph.edges[i].to==Number(toNode)&&massivFrom.push(my.graph.edges[i].from);for(var _i=0;_i<massivFrom.length;_i++)for(var j=0;j<my.TM.length;j++)my.TM[j].id==Number(massivFrom[_i]-1)&&otarray.push(my.TM[j]);for(var _i2=0;_i2<my.TM.length;_i2++)my.TM[_i2].id==Number(toNode-1)&&doarray.push(my.TM[_i2])}var otKokogo=otarray,doKokogo=doarray;shapka.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("th",{children:"tm"}));for(var _i3=0;_i3<otarray.length;_i3++){var name=otarray[_i3].name;shapka.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("th",{children:otarray[_i3].name}))}for(var _i4=0;_i4<doarray.length;_i4++){var _name=doarray[_i4].name;shapka.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("th",{children:doarray[_i4].name}))}for(var _i5=0;_i5<otKokogo.length;_i5++){for(var _j=0;_j<otKokogo[_i5].termsCount;_j++){console.log(otKokogo[_i5].termsNames);var termName=otKokogo[_i5].termsNames["term"+String(_j+1)];tempArray[_j]=termName}termsInputArray2[_i5]=tempArray,tempArray=[]}termsInputArray2=cartesian2(termsInputArray2),termsInputArray2.map((function(e){return e.push("...")}));for(var _i6=0;_i6<doKokogo.length;_i6++){termsInputArray2.map((function(e){return e.push(1)}));for(var _j2=0;_j2<doKokogo[_i6].termsCount;_j2++){var _termName=doKokogo[_i6].termsNames["term"+String(_j2+1)];tempArray[_j2]={id:_j2+1,name:_termName}}selectedArray[_i6]=tempArray,tempArray=[]}for(var _i7=0;_i7<doKokogo.length;_i7++){for(var _tempArray=[],_j3=0;_j3<doKokogo[_i7].termsCount;_j3++){var _termName2=doKokogo[_i7].termsNames["term"+String(_j3+1)];_tempArray[_j3]={id:_j3+1,name:_termName2}}selectedArray[_i7]=_tempArray,_tempArray=[]}console.log(selectedTM);var urPravil=eval("my.pravila_end["+selectedTM+"]");if(void 0!=urPravil)for(var _i8=0;_i8<urPravil.length;_i8++){for(var temp=void 0,temp2=[],_j4=0;_j4<urPravil[_i8].split("...")[0].split("_").length+1;_j4++){var _termName3=void 0;0==_j4?_termName3=_i8+1:(temp=urPravil[_i8].split("...")[0].split("_")[_j4-1],_termName3=eval("otKokogo["+(_j4-1)+"].termsNames['term"+temp+"']")),temp2[_j4]=_termName3}tempus[_i8]=temp2}var ChangeSelect=function(e){e.preventDefault();e.target.getAttribute("name"),e.target.id.split("__")[0].split("_")[0];var _=e.target.id.split("__")[0].split("_")[1],t=e.target.id.split("__")[1];t=t.split("/")[0],changeList(_,t,e.target.options[e.target.selectedIndex].id,select);for(var r=0;r<termsInputArray2[_-1].length;r++)if("..."==termsInputArray2[t-1][r]){termsInputArray2[t-1][Number(Number(r)+Number(t))]=Number(e.target.options[e.target.selectedIndex].id);break}},ChangeCoeff=function(e){e.preventDefault();var _=e.target.value,t=(e.target.id.split("__")[0].split("_")[0],e.target.id.split("__")[0].split("_")[1]),r=e.target.id.split("__")[1],o=select;r=r.split("/")[0],changeCoeff(t,r,_,o),console.log("row="+t),console.log("position="+r),console.log("urovPravil="+o)},prav;return prav=eval("my.pravila_end"),console.log(prav),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"app-container",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("form",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("table",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("thead",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("tr",{children:shapka})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("tbody",{children:tempus.map((function(e,_){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_components_ReadOnlyRow__WEBPACK_IMPORTED_MODULE_3__.a,{stroke:e,array:selectedArray,change:ChangeSelect,urovenPravil:levelPravil,index:_+1,pravila:prav[Number(select)][_],changeCoeff:ChangeCoeff})})}))})]})})})}react_dom__WEBPACK_IMPORTED_MODULE_5___default.a.render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Table,{}),document.querySelector("#root"))},170:function(e,_,t){"use strict";t(1);var r=t(2);_.a=function(e){var _=e.stroke,t=e.array,o=e.change,s=e.urovenPravil,a=e.index,d=e.pravila,l=e.changeCoeff,n=a,i=d.split("...")[1].split("-");null==i&&(i="1_1-1_1");var M=[{id:1,name:""}];if("string"==typeof _[1]&&t.length>0)for(var c=0;c<t[0].length;c++)M[c]={id:c+1,name:t[0][c]};for(var u=function(e){var _=e.id,t=e.options,s=(e.onChange,e.poryadok);return Object(r.jsx)("select",{className:"custom-select",id:_,onChange:o,defaultValue:t[i[s].split("_")[0]-1].name,children:t.map((function(e,t){return Object(r.jsx)("option",{id:e.id,value:e.name,children:e.name},_+t)}))})},p=[],m=!0,g=0;g<_.length;g++)m&&"string"==typeof _[g]?p[0]=Object(r.jsx)("td",{children:_[g]}):p.push(Object(r.jsx)("td",{children:_[g]})),m=!1;if("string"==typeof _[1]&&t.length>0)for(var h=0;h<t.length;h++){var E=s+"_"+n+"__"+(h+1)+"/"+t.length;p.push(Object(r.jsxs)("td",{children:[Object(r.jsx)(u,{id:E,options:t[h],poryadok:h}),Object(r.jsx)("input",{class:"plotInput",onInput:l,type:"number",step:"0.1",min:"0",max:"1",id:E,name:"d",value:i[h].split("_")[1]})]}))}return Object(r.jsx)("tr",{children:p})}},171:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){var D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),react_graph_vis__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(166),react_graph_vis__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_graph_vis__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21),react_dom__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__),_index_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(318),_index_css__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_5__),_Plots_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(167),_Table_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(169),react_vis_dist_style_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(140),react_vis_dist_style_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_vis_dist_style_css__WEBPACK_IMPORTED_MODULE_8__),axios__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22),axios__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__),_require=__webpack_require__(360),XMLParser=_require.XMLParser,inputLevelCounter=0,input_Name;function FlmTree(){function randomColor(){var e=Math.floor(256*Math.random()).toString(16).padStart(2,"0"),_=Math.floor(256*Math.random()).toString(16).padStart(2,"0"),t=Math.floor(256*Math.random()).toString(16).padStart(2,"0");return"#".concat(e).concat(_).concat(t)}var createNode=function(e,_){randomColor();esModel.counter++,setEsModel(esModel),esModel.graph.nodes.push({x:e,y:_,color:"#F5DEB3",id:esModel.counter,font:{size:10},size:30,label:"",title:"",shape:"dot",physics:"false",group:3})};function fl(){console.log(networks.network)}var options={locale:"ru",interaction:{hover:!0,tooltipDelay:10,selectable:!0,multiselect:!0,dragView:!0},manipulation:{enabled:!0,initiallyActive:!0,addNode:!1,editEdge:!1,addEdge:function(e,_){esModel.graph.edges.push(e),_(e);for(var t={},r=0;r<esModel.graph.nodes.length;r++)t[esModel.graph.nodes[r].id]=[0,0];for(var o=0;o<esModel.graph.edges.length;o++)t[esModel.graph.edges[o].to][1]=1,t[esModel.graph.edges[o].from][0]=1;esModel.pravila_end=[],setEsModel(esModel);for(var s=0;s<esModel.graph.nodes.length;s++)1==t[esModel.graph.nodes[s].id][0]&&0==t[esModel.graph.nodes[s].id][1]&&(esModel.graph.nodes[s].color="#008000"),1==t[esModel.graph.nodes[s].id][0]&&1==t[esModel.graph.nodes[s].id][1]&&(esModel.graph.nodes[s].color="#DA70D6"),0==t[esModel.graph.nodes[s].id][0]&&1==t[esModel.graph.nodes[s].id][1]&&(esModel.graph.nodes[s].color="#FF0000");for(var a=0;a<esModel.graph.nodes.length;a++)console.log(esModel.graph.nodes[a].color),"#FF0000"!=String(esModel.graph.nodes[a].color)&&"#DA70D6"!=String(esModel.graph.nodes[a].color)||esModel.methods.UpdatePravila(esModel.graph.nodes[a].id);setEsModel(esModel),setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),networks.network.addEdgeMode()},deleteEdge:function(e,_){_(e);for(var t=0;t<esModel.graph.edges.length;t++)if(esModel.graph.edges[t].id==e.edges[0]){esModel.graph.edges.splice(t,1);break}for(var r={},o=0;o<esModel.graph.nodes.length;o++)r[esModel.graph.nodes[o].id]=[0,0];for(var s=0;s<esModel.graph.edges.length;s++)r[esModel.graph.edges[s].to][1]=1,r[esModel.graph.edges[s].from][0]=1;esModel.pravila_end=[],setEsModel(esModel);for(var a=0;a<esModel.graph.nodes.length;a++)1==r[esModel.graph.nodes[a].id][0]&&0==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#008000"),1==r[esModel.graph.nodes[a].id][0]&&1==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#DA70D6"),0==r[esModel.graph.nodes[a].id][0]&&1==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#FF0000"),0==r[esModel.graph.nodes[a].id][0]&&0==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#F5DEB3");for(var d=0;d<esModel.graph.nodes.length;d++)"#FF0000"!=String(esModel.graph.nodes[d].color)&&"#DA70D6"!=String(esModel.graph.nodes[d].color)||esModel.methods.UpdatePravila(esModel.graph.nodes[d].id);setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges})},deleteNode:function(e,_){_(e);for(var t=[],r=!1,o=0;o<esModel.graph.edges.length;o++)esModel.graph.edges[o].from!=e.nodes[0]&&esModel.graph.edges[o].to!=e.nodes[0]||t.push(o);for(var s=0;s<esModel.graph.nodes.length;s++)esModel.graph.nodes[s].id==e.nodes[0]&&"#F5DEB3"==esModel.graph.nodes[s].color&&(r=!0),esModel.graph.nodes[s].id!=e.nodes[0]||"#008000"!=esModel.graph.nodes[s].color&&"#DA70D6"!=esModel.graph.nodes[s].color&&"#FF0000"!=esModel.graph.nodes[s].color||(esModel.pravila_end=[]);for(var a=0;a<t.length;a++)esModel.graph.edges.splice(t[t.length-1-a],1);console.log(esModel.graph.edges);for(var d=0;d<esModel.graph.nodes.length;d++)esModel.graph.nodes[d].id==e.nodes[0]&&esModel.graph.nodes.splice(d,1);for(var l=0;l<esModel.TM.length;l++)esModel.TM[l].id==e.nodes[0]-1&&esModel.TM.splice(l,1);esModel.counter--;for(var n=[{}],i=0;i<esModel.graph.nodes.length;i++)n[esModel.graph.nodes[i].id]=i+1,esModel.graph.nodes[i].id=i+1;for(var M=0;M<esModel.TM.length;M++)esModel.TM[M].id=M;setEsModel(esModel);for(var c=0;c<esModel.graph.edges.length;c++)esModel.graph.edges[c].from=n[esModel.graph.edges[c].from],esModel.graph.edges[c].to=n[esModel.graph.edges[c].to];for(var u={},p=0;p<esModel.graph.nodes.length;p++)u[esModel.graph.nodes[p].id]=[0,0];for(var m=0;m<esModel.graph.edges.length;m++)u[esModel.graph.edges[m].to][1]=1,u[esModel.graph.edges[m].from][0]=1;setEsModel(esModel);for(var g=0;g<esModel.graph.nodes.length;g++)1==u[esModel.graph.nodes[g].id][0]&&0==u[esModel.graph.nodes[g].id][1]&&(esModel.graph.nodes[g].color="#008000"),1==u[esModel.graph.nodes[g].id][0]&&1==u[esModel.graph.nodes[g].id][1]&&(esModel.graph.nodes[g].color="#DA70D6"),0==u[esModel.graph.nodes[g].id][0]&&1==u[esModel.graph.nodes[g].id][1]&&(esModel.graph.nodes[g].color="#FF0000"),0==u[esModel.graph.nodes[g].id][0]&&0==u[esModel.graph.nodes[g].id][1]&&(esModel.graph.nodes[g].color="#F5DEB3");for(var h=0;h<esModel.graph.nodes.length;h++)"#FF0000"!=String(esModel.graph.nodes[h].color)&&"#DA70D6"!=String(esModel.graph.nodes[h].color)||r||esModel.methods.UpdatePravila(esModel.graph.nodes[h].id);setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(0)}},layout:{hierarchical:{enabled:!1,direction:"LR",sortMethod:"directed",blockShifting:!1,levelSeparation:180}},edges:{color:"#000000"}},_useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({fullName:"",address:"",phoneNumber:"",email:""}),_useState2=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),addFormData=_useState2[0],setAddFormData=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({fullName:"",address:"",phoneNumber:"",email:""}),_useState4=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),editFormData=_useState4[0],setEditFormData=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(null),_useState6=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),editContactId=_useState6[0],setEditContactId=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState8=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState7,2),xmlFiles=_useState8[0],setXmlFiles=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState10=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState9,2),xmlModeling=_useState10[0],setxmlModeling=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState12=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState11,2),xmlName=_useState12[0],setXmlName=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState14=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState13,2),indexBodyHtml=_useState14[0],setindexBodyHtml=_useState14[1],o2x=__webpack_require__(370);window.onbeforeunload=function(){return"A XHR request is pending, are you sure you want to leave ?"};var _useState15=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(null),_useState16=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState15,2),data=_useState16[0],setData=_useState16[1];Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){fetch("/api").then((function(e){return e.json().then((function(e){return setData(e.message)}))}))}));var _useState17=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({options:{Name:"",Author:"",userRequest:[]},structure:{},pravilaMode:0,TM:[],pravila_end:{1:["1_1...1_1","1_2...2_0.8","1_3...1_0.9","2_1...2_0.7","2_2...1_0.9","2_3...2_1","3_1...1_0.9","3_2...1_0.8","3_3...2_0.9"]},counter:0,graph:{nodes:[],edges:[]},events:{release:function(e){e.nodes,e.edges,networks.network.getPositions()},dragEnd:function(e){e.nodes,e.edges;for(var _=networks.network.getPositions(),t=0;t<esModel.graph.nodes.length;t++)esModel.graph.nodes[t].x=_[esModel.graph.nodes[t].id].x,esModel.graph.nodes[t].y=_[esModel.graph.nodes[t].id].y;setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges})},click:function(e){var _=e.nodes;e.edges;null!=_[0]&&RenderSelectedTM(_[0]-1)},doubleClick:function(e){for(var _=e.pointer.canvas,t=networks.network.getPositions(),r=0;r<esModel.graph.nodes.length;r++)esModel.graph.nodes[r].x=t[esModel.graph.nodes[r].id].x,esModel.graph.nodes[r].y=t[esModel.graph.nodes[r].id].y;esModel.methods.AddTMInputLevel(esModel.graph.nodes.length),createNode(_.x,_.y),setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(esModel.graph.nodes.length-1)},showPopup:function(e){e.nodes,e.edges}},methods:{ChangeCoeff:function ChangeCoeff(row,pos,value,nymberTM){var urovenPrav;urovenPrav=eval("esModel.pravila_end["+Number(nymberTM)+"]");var leftSide=urovenPrav[row-1].split("...")[0],rightSide=urovenPrav[row-1].split("...")[1].split("-");rightSide[pos-1]=rightSide[pos-1].split("_")[0]+"_"+value;for(var peresobran=leftSide+"...",rightPeresobran="",i=0;i<rightSide.length;i++)rightPeresobran+=rightSide[i],i+1<rightSide.length&&(rightPeresobran+="-");peresobran=""+peresobran+rightPeresobran,urovenPrav[row-1]=peresobran,setEsModel(esModel),RenderPravila(Number(nymberTM))},ChangeX:function(e){for(var _=[],t=[],r={},o=[],s=0;s<esModel.graph.nodes.length;s++)"#008000"==esModel.graph.nodes[s].color&&(esModel.graph.nodes[s].y=0,_[_.length]=s+1,esModel.graph.nodes[s].x=150*_.length-300),"#DA70D6"==esModel.graph.nodes[s].color&&(esModel.graph.nodes[s].y=-250,t[t.length]=s+1),"#FF0000"==esModel.graph.nodes[s].color&&(esModel.graph.nodes[s].y=-500,o[o.length]=s+1);r.input=_,r.output=o,urovniObrabotki={};for(var a=0;a<t.length;a++)pp=[],getLevelTMObrabotki(t[a],_);console.log(urovniObrabotki);var d=50;for(var l in urovniObrabotki)urovniObrabotki[d]=urovniObrabotki[l],d++,delete urovniObrabotki[l];for(var l in d=1,urovniObrabotki)urovniObrabotki[d]=urovniObrabotki[l],d++,delete urovniObrabotki[l];for(var l in urovniObrabotki)for(var n=0;n<urovniObrabotki[l].length;n++)for(var i=0;i<esModel.graph.nodes.length;i++)esModel.graph.nodes[i].id==urovniObrabotki[l][n]&&(esModel.graph.nodes[i].y=-100*Number(l),esModel.graph.nodes[i].x=150*(n+1)-225);for(var M=0,c=0;c<esModel.graph.nodes.length;c++)"#FF0000"==esModel.graph.nodes[c].color&&(esModel.graph.nodes[c].y=-100*Object.keys(urovniObrabotki).length-100,esModel.graph.nodes[c].x=150*(M+1)-150,M++);M=0,urovniObrabotki.input=_,urovniObrabotki.output=o,console.log(urovniObrabotki),esModel.structure=urovniObrabotki,setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(0)},UpdatePravila:function(e){var _;_=void 0!=e.target?Number(e.target.id)+1:e,esModel.pravilaMode=1;for(var t=[],r=[],o=0;o<esModel.graph.edges.length;o++)esModel.graph.edges[esModel.graph.edges.length-o-1].to==Number(_)&&r.push(esModel.graph.edges[esModel.graph.edges.length-o-1].from);for(var s=0;s<r.length;s++)for(var a=0;a<esModel.TM.length;a++)esModel.TM[esModel.TM.length-a-1].id==Number(r[s]-1)&&t.push(esModel.TM[esModel.TM.length-a-1]);if(!(t<=0)){for(var d=[],l=0;l<t.length;l++){d.push([]);for(var n=0;n<t[t.length-1-l].termsCount;n++)d[l][n]=String(n+1)}for(var i=[],M=cartesian(d),c=!1,u=0;u<M.length;u++){c||i.push([]),i[u]="";for(var p=0;p<M[u].length;p++)i[u]+=M[u][p],p+1<M[u].length?i[u]+="_":i[u]+="...";c=!0}for(var m=[],g=0;g<esModel.TM.length;g++)esModel.TM[g].id==Number(_-1)&&m.push(esModel.TM[g]);for(var h=!1,E=[],O=0;O<M.length;O++){h||d.push([]),E[O]="";for(var b=0;b<m.length;b++)E[O]+="1_1",b+1<m.length&&(E[O]+="-");h=!0}for(var D=0;D<M.length;D++)i[D]+=E[D];esModel.pravila_end[String(_)]=i,setEsModel(esModel)}},changeEsName:function(e){esModel.options.Name=String(e.target.value),setEsModel(esModel),RenderOptionsMenu()},changeEsAuthor:function(e){esModel.options.Author=String(e),esModel.options.Author=String(e.target.value),setEsModel(esModel),RenderOptionsMenu()},ChangePravila:function(e,_,t,r){var o,s=(o=esModel.pravila_end[r])[e-1].split("...")[0],a=o[e-1].split("...")[1].split("-");a[_-1]=t+"_"+a[_-1].split("_")[1];for(var d=s+"...",l="",n=0;n<a.length;n++)l+=a[n],n+1<a.length&&(l+="-");d=""+d+l,o[e-1]=d,setEsModel(esModel)},ChangePlotColor:function(e,_,t){esModel.TM[e].plotsColors[_]=t,setEsModel(esModel),RenderSelectedTM(Number(e))},deletePointplot:function(e,_){var t=Object.keys(esModel.TM[e].coords[_]).length/2;delete esModel.TM[e].coords[_]["x"+t],delete esModel.TM[e].coords[_]["y"+t],setEsModel(esModel),RenderSelectedTM(Number(e))},addNewPointPlot:function(e,_){var t=Object.keys(esModel.TM[e].coords[_]).length/2+1,r="x"+t,o="y"+t;esModel.TM[e].coords[_][r]=0,esModel.TM[e].coords[_][o]=0,setEsModel(esModel),RenderSelectedTM(Number(e))},changeCoordsValue:function(e,_,t,r){esModel.TM[e].coords[_][t]=Number(r),setEsModel(esModel),RenderSelectedTM(Number(e))},deleteTerm:function(e){if(1!=esModel.TM[e].termsCount){for(var _=!1,t=0;t<esModel.graph.nodes.length;t++)esModel.graph.nodes[t].id==Number(e)+1&&"#F5DEB3"==esModel.graph.nodes[t].color&&(_=!0),esModel.graph.nodes[t].id!=Number(e)+1||"#008000"!=esModel.graph.nodes[t].color&&"#DA70D6"!=esModel.graph.nodes[t].color&&"#FF0000"!=esModel.graph.nodes[t].color||(esModel.pravila_end=[]);esModel.TM[e].termsCount=esModel.TM[e].termsCount-1;var r="term"+Object.keys(esModel.TM[e].termsNames).length;delete esModel.TM[e].termsNames[r],esModel.TM[e].coords.splice(esModel.TM[e].coords.length-1,1),esModel.TM[e].plotsColors.pop();for(var o="",s=0;s<esModel.TM[e].termsCount;s++)o+=esModel.TM[e].termsNames["term"+String(s+1)]+"\n";esModel.graph.nodes[e].title=o,networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),setEsModel(esModel);for(var a=0;a<esModel.graph.nodes.length;a++)"#FF0000"!=String(esModel.graph.nodes[a].color)&&"#DA70D6"!=String(esModel.graph.nodes[a].color)||_||esModel.methods.UpdatePravila(esModel.graph.nodes[a].id);setEsModel(esModel),RenderSelectedTM(Number(e))}},addNewTerm:function(e){for(var _=!1,t=0;t<esModel.graph.nodes.length;t++)esModel.graph.nodes[t].id==Number(e)+1&&"#F5DEB3"==esModel.graph.nodes[t].color&&(_=!0),esModel.graph.nodes[t].id!=Number(e)+1||"#008000"!=esModel.graph.nodes[t].color&&"#DA70D6"!=esModel.graph.nodes[t].color&&"#FF0000"!=esModel.graph.nodes[t].color||(esModel.pravila_end=[]);esModel.TM[e].termsCount=esModel.TM[e].termsCount+1;var r="term"+(Object.keys(esModel.TM[e].termsNames).length+1);esModel.TM[e].termsNames[r]="new_term";esModel.TM[e].coords.push({x1:0,y1:0,x2:0,y2:0,x3:0,y3:0,x4:0,y4:0}),esModel.TM[e].plotsColors.push("#000000");for(var o="",s=0;s<esModel.TM[e].termsCount;s++)o+=esModel.TM[e].termsNames["term"+String(s+1)]+"\n";esModel.graph.nodes[e].title=o,networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges});for(var a=0;a<esModel.graph.nodes.length;a++)"#FF0000"!=String(esModel.graph.nodes[a].color)&&"#DA70D6"!=String(esModel.graph.nodes[a].color)||_||esModel.methods.UpdatePravila(esModel.graph.nodes[a].id);setEsModel(esModel),RenderSelectedTM(Number(e))},changeTermName:function(e,_,t){esModel.TM[e].termsNames["term"+_]=t,setEsModel(esModel);for(var r="",o=0;o<esModel.TM[e].termsCount;o++)r+=esModel.TM[e].termsNames["term"+String(o+1)]+"\n";esModel.graph.nodes[e].title=r,networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(Number(e))},AddTMInputLevel:function(e){esModel.TM.push({id:e,name:"",termsCount:2,termsNames:{term1:"",term2:""},coords:[{x1:0,y1:0,x2:0,y2:1,x3:1,y3:1,x4:1,y4:0},{x1:1,y1:0,x2:1,y2:1,x3:2,y3:1,x4:2,y4:0}],plotsColors:["#000000","#000000"]}),setEsModel(esModel)},ChangeSelectedTMName:function(e,_){esModel.TM[e].name=String(_),esModel.graph.nodes[e].label=_,setEsModel(esModel),RenderSelectedTM(Number(e)),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges})}}}),_useState18=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState17,2),esModel=_useState18[0],setEsModel=_useState18[1],_useState19=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([["\u041d\u0410\u0421\u0422\u0420\u041e\u0419\u041a\u0418"],[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 \u042d\u0421: ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsNameInput",value:esModel.options.Name,onInput:esModel.methods.changeEsName}),"\u0410\u0412\u0422\u041e\u0420 \u042d\u0421: ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsAuthorInput",value:esModel.options.Author,onInput:esModel.methods.changeEsAuthor})]})]]),_useState20=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState19,2),indexBodyHtml2=_useState20[0],setindexBodyHtml2=_useState20[1],graph=esModel.graph,events=esModel.events,_useState21=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({network:{}}),_useState22=Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState21,2),networks=_useState22[0],setNetwork=_useState22[1],states={network:{}},uroven=0,zz,pp=[],start,urovniObrabotki={};function getLevelTMObrabotki(e,_){void 0==zz&&(zz=_,start=e);for(var t=0;t<esModel.graph.edges.length;t++)start==e&&(uroven=0),esModel.graph.edges[t].to==e&&(uroven+=1,zz.includes(esModel.graph.edges[t].from)?(pp[pp.length]=uroven,uroven-=1):getLevelTMObrabotki(esModel.graph.edges[t].from));start==e&&(console.log(pp),void 0==urovniObrabotki[Math.max.apply(Math,Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))]?(urovniObrabotki[Math.max.apply(Math,Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))]=[],urovniObrabotki[Math.max.apply(Math,Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))][urovniObrabotki[Math.max.apply(Math,Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))].length]=e,start=void 0,zz=void 0):(urovniObrabotki[Math.max.apply(Math,Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))][urovniObrabotki[Math.max.apply(Math,Object(D_bz_magistrature_sem2_flmReact_reactjs_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))].length]=e,start=void 0,zz=void 0))}function changePravila(e,_,t,r){esModel.methods.ChangePravila(e,_,t,r)}function changeCoeff(e,_,t,r){esModel.methods.ChangeCoeff(e,_,t,r)}function cartesian(e){var _=[],t=e;t.reduceRight((function(e,_,t){return function(r){for(var o=0,s=_.length;o<s;o++){var a=r.slice();a[t]=_[o],e(a)}}}),Array.prototype.push.bind(_))(new Array(t.length));return _}function SendXmlModelling(){var e={};1==esModel.TM.length?(e.TM=[],e.TM.push(esModel.TM)):e.TM=esModel.TM;for(var _,t={},r=0;r<esModel.pravila_end.length;r++){t[""+r]=esModel.pravila_end[r]}for(var o in _=t,t)""==t[o]&&(t[o]=""),t["n"+o]=t[o],delete t[o];e.pravila_end=_,e.pravila_temp=t,e.graph=esModel.graph,e.counter=esModel.counter,e.options=esModel.options;var s={};for(var o in esModel.structure)s["n_"+o]=esModel.structure[o];e.structure=s;var a=new Blob([o2x(e)],{type:"text/xml"});setxmlModeling(a);var d=new FormData;d.append("zapros",JSON.stringify({zapros:"{'1':'2','2':'-27.5','3':'-17.5'}"})),d.append("file",xmlModeling),axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("api/study/flm-builder",d,{}).then((function(e){}))}function SaveToXMLOnComputer(){var e={};1==esModel.TM.length?(e.TM=[],e.TM.push(esModel.TM)):e.TM=esModel.TM,console.log(esModel.pravila_end);for(var _,t={},r=0;r<esModel.pravila_end.length;r++){t[""+r]=esModel.pravila_end[r]}for(var o in _=t,t)""==t[o]&&(t[o]=""),t["n"+o]=t[o],delete t[o];console.log(t),e.pravila_end=_,e.pravila_temp=t,e.graph=esModel.graph,e.counter=esModel.counter,e.options=esModel.options;var s={};for(var o in esModel.structure)s["n_"+o]=esModel.structure[o];e.structure=s;var a=document.createElement("a");document.body.appendChild(a);var d=new Blob([o2x(e)],{type:"text/xml"});a.href=URL.createObjectURL(d),a.download="myFile654.xml",a.click()}function Pravila(e){console.log(e);var _=[];_.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"Blochek",children:Object(_Table_js__WEBPACK_IMPORTED_MODULE_7__.a)(esModel,2,changePravila,changeCoeff,e)})),setindexBodyHtml2(_)}function ConsoleXml(e){console.log(e);var _=document.createElement("a");document.body.appendChild(_),_.download="FLMmodel.xml",sendToServer(new File([e],"FLMmodel.xml",{type:"text/xml"}))}function XmlOnServer(){var e=__webpack_require__(163);__webpack_require__(22).default.get("/xmlS/filedddd.xml",{responseType:"arraybuffer",responseEncoding:"binary"}).then((function(_){var t=e.decode(Buffer.from(_.data),"utf-8"),r=(new XMLParser).parse(t);console.log(r)})).catch((function(e){console.log("FAILURE!!"+e)}))}var changeTermName=function(e){input_Name=e.target.value,"termInput"==e.target.name.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.changeTermName(e.target.name.split("_")[0].match(/\d+/g)[0],e.target.name.split("_")[1],e.target.value)},ChangeColor=function(e){"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.ChangePlotColor(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1,e.target.value)},DeletePointPlot=function(e){"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.deletePointplot(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1)},changeCoordsValues=function(e){input_Name=e.target.name,"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.changeCoordsValue(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1,e.target.name.split("_")[0],e.target.value)},addNewPointPlot=function(e){"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.addNewPointPlot(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1)},AddNewTerm=function(e){esModel.methods.addNewTerm(e.target.id)},DeleteTerm=function(e){esModel.methods.deleteTerm(e.target.id)},RenderOptionsMenu=function(e){var _=[];(_=["OPTIONS"]).push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["NAME ES:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsNameInput",value:esModel.options.Name,onInput:esModel.methods.changeEsName}),"AUTHOR ES:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsAuthorInput",value:esModel.options.Author,onInput:esModel.methods.changeEsAuthor})]})),setindexBodyHtml2(_)},RenderModelingMenu=function(e){var _=[];_=["\u041c\u041e\u0414\u0415\u041b\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u0415"],console.log(esModel.structure);for(var t=0;t<esModel.structure.input.length;t++){for(var r="",o=0,s=0;s<esModel.TM.length;s++)esModel.TM[s].id==String(esModel.structure.input[t]-1)&&(r+=esModel.TM[s].name,o=s);_.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["\u0422\u0415\u0420\u041c - \u041c\u041d\u041e\u0416\u0415\u0421\u0422\u0412\u041e ( ",esModel.structure.input[t]," ) (",r,"):",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("select",{className:"custom-select",id:esModel.structure.input[t],defaultValue:esModel.TM[o].termsNames[0],children:Object.values(esModel.TM[o].termsNames).map((function(e,_){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{id:e,value:e,children:e},_)}))})]}))}setindexBodyHtml2(_)},changeSelectedTMName=function(e){input_Name=e.target.id,"term"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.ChangeSelectedTMName(e.target.id.split("_")[1],e.target.value)},RenderSelectedTM=function(e){var _;_=e;var t=[],r=[];inputLevelCounter=0;for(var o=[],s=0;s<esModel.graph.nodes.length;s++)esModel.graph.nodes[s].id!=e+1||"#DA70D6"!=esModel.graph.nodes[s].color&&"#FF0000"!=esModel.graph.nodes[s].color||(o=[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{id:_,onClick:RenderPravila,children:" \u041f\u0420\u0410\u0412\u0418\u041b\u0410: "})]);for(var a=0;a<esModel.TM.length;a++)esModel.TM[a].id==_&&(_=a);var d="term_"+_;t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[" ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("label",{class:"myLabel",children:[" \u0422\u0415\u0420\u041c - \u041c\u041d\u041e\u0416\u0415\u0421\u0422\u0412\u041e \u2116",_+1," "]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("label",{class:"myLabel",children:"\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 \u0422\u041c: "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"text",value:esModel.TM[_].name,className:"form-control",id:d,placeholder:"...",onChange:changeSelectedTMName}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("label",{class:"myLabel",children:" \u0422\u0415\u0420\u041c\u041e\u0412 \u0412 \u0422\u041c:\xa0 "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"text",value:esModel.TM[_].termsCount,className:"form-control",placeholder:"..."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{id:_,onClick:AddNewTerm,children:" \u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0422\u0415\u0420\u041c"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{id:_,onClick:DeleteTerm,children:" \u0423\u0414\u0410\u041b\u0418\u0422\u042c \u0422\u0415\u0420\u041c"}),o,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{})]}));for(var l=0;l<esModel.TM[_].coords.length;l++){var n=l+1,i="\u0422\u0415\u0420\u041c \u2116"+n,M="termInput"+_+"_"+n;r=[];for(var c=0;c<Object.keys(esModel.TM[_].coords[l]).length/2;c++){var u="x"+(c+1)+"_input",p="y"+(c+1)+"_input";r.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["x",c+1,": ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"plotInput",type:"number",step:"0.1",min:"-1000",value:esModel.TM[_].coords[l]["x"+(c+1)],id:M,name:u,onInput:changeCoordsValues}),"y",c+1,": ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"plotInput",type:"number",step:"0.1",min:"0",value:esModel.TM[_].coords[l]["y"+(c+1)],id:M,name:p,onInput:changeCoordsValues})]}))}t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"blockMy",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"blockMy",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[" ",i," "]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{name:M,value:esModel.TM[_].termsNames["term"+(l+1)],type:"text",onInput:changeTermName})," "]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"blockMy",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:addNewPointPlot,id:M,children:"+"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:DeletePointPlot,id:M,children:"-"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"color",class:"odin",id:M,onChange:ChangeColor,value:esModel.TM[_].plotsColors[l]})]}),r]})}))}t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"Plot",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:Object(_Plots_js__WEBPACK_IMPORTED_MODULE_6__.a)(esModel.TM[_].coords,esModel.TM[_].termsCount,esModel.TM[_].plotsColors)})]}));var m=[];m.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"Blochek",children:t})),setindexBodyHtml2(m),inputLevelCounter++};function GoToPravila(e){esModel.pravilaMode=e}var RenderPravila=function(e){var _;GoToPravila(1),setEsModel(esModel),_=void 0==e.target?e:Number(e.target.id)+1,console.log(_),Pravila(_)};function sendToServer(e){var _=new FormData;_.append("file",e),axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("http://localhost:8000/upload",_,{}).then((function(e){XmlOnServer(),setXmlName(""+xmlFiles.name)}))}var handleSubmit=function(e){e.preventDefault();var _=new FormData;_.append("file",xmlFiles),axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("http://localhost:8000/upload",_,{}).then((function(e){setXmlName(""+xmlFiles.name);var _=__webpack_require__(163);__webpack_require__(22).default.get("/xmlS/FLMmodel.xml",{responseType:"arraybuffer",responseEncoding:"binary"}).then((function(e){var t=_.decode(Buffer.from(e.data),"utf-8"),r=(new XMLParser).parse(t);setEsModel(esModel),void 0==r.TM.length?(esModel.TM=[],esModel.TM[0]=r.TM):esModel.TM=r.TM,esModel.graph=r.graph,esModel.counter=r.counter,esModel.options=r.options;for(var o={},s=0;s<Object.keys(r.structure).length;s++)o[Object.keys(r.structure)[s].split("_")[1]]=r.structure[Object.keys(r.structure)[s]];esModel.structure=o,esModel.pravila_end=[];for(var a=0;a<Object.keys(r.pravila_temp).length;a++)esModel.pravila_end[a]=r.pravila_temp["n"+a];setEsModel(esModel),RenderOptionsMenu()})).catch((function(e){console.log("FAILURE!!"+e)}))}))},handleFileSelect=function(e){setXmlFiles(e.target.files[0])},inp_termMn_1=8;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:SaveToXMLOnComputer,children:"SAVE MODEL TO COMPUTER"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:esModel.methods.ChangeX,children:"SORT"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:RenderOptionsMenu,children:"OPTIONS"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:RenderModelingMenu,children:" MODELING"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"file",onChange:handleFileSelect}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:SendXmlModelling,children:" TEST_POST"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{type:"button",onClick:handleSubmit}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"Blochek",children:[" ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_graph_vis__WEBPACK_IMPORTED_MODULE_2___default.a,{id:"graph",getNetwork:function(e){networks.network=e,setNetwork(networks)},graph:esModel.graph,options:options,events:esModel.events,style:{width:"800px",height:"600px",position:"absolute",right:"0",border:"solid"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"blockMy",children:["   ",indexBodyHtml2,data||"Loading data..."]})]})}react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(FlmTree,{}),document.getElementById("root"))}.call(this,__webpack_require__(35).Buffer)},318:function(e,_,t){},338:function(e,_,t){},339:function(e){e.exports=JSON.parse("{}")},340:function(e,_,t){"use strict";t(1),t(2)},395:function(e,_){}},[[171,1,2]]]);
//# sourceMappingURL=main.6d22ce38.chunk.js.map